"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_utils_1 = require("./common/mongoose.utils");
function createMongooseProviders(connectionName, models = []) {
    const providers = (models || []).map(model => ({
        provide: mongoose_utils_1.getModelToken(model.name),
        useFactory: (connection) => connection.model(model.name, model.schema, model.collection),
        inject: [mongoose_utils_1.getConnectionToken(connectionName)],
    }));
    return providers;
}
exports.createMongooseProviders = createMongooseProviders;
